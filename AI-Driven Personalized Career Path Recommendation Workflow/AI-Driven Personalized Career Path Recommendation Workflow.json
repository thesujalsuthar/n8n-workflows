{
  "name": "AI-Powered Personalized Career Path Recommendation Engine",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "submitUserData",
        "responseMode": "onReceived",
        "options": {}
      },
      "name": "Webhook - Receive User Data",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [
        250,
        300
      ]
    },
    {
      "parameters": {
        "functionCode": "const data = items[0].json;\n\nif (!data.skills || !data.careerGoals) {\n  throw new Error('Missing required fields: skills and careerGoals');\n}\n\nreturn items;"
      },
      "name": "Validate Input",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        450,
        300
      ]
    },
    {
      "parameters": {
        "model": "gpt-4",
        "temperature": 0.7,
        "top_p": 1,
        "frequency_penalty": 0,
        "presence_penalty": 0,
        "max_tokens": 1500,
        "messages": [
          {
            "role": "system",
            "content": "You are a career path recommendation engine that analyzes user skills, career goals, and current market trends to generate a personalized career path with recommended learning resources and relevant job opportunities."
          },
          {
            "role": "user",
            "content": "Analyze the following user profile and market trends to generate a tailored career path recommendation that includes suitable roles, skill development roadmap, suggested learning resources, and potential job opportunities. \n\nUser Skills: {{$json[\"skills\"]}}\nCareer Goals: {{$json[\"careerGoals\"]}}\nMarket Trends: {{$json[\"marketTrends\"] || \"Please consider current general market trends in tech and other industries.\"}}"
          }
        ]
      },
      "name": "AI - Generate Career Path Recommendation",
      "type": "n8n-nodes-base.openAi",
      "typeVersion": 1,
      "position": [
        700,
        300
      ]
    },
    {
      "parameters": {
        "functionCode": "return [\n  {\n    json: {\n      careerPathRecommendation: items[0].json.choices[0].message.content\n    }\n  }\n];"
      },
      "name": "Format Output",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        900,
        300
      ]
    },
    {
      "parameters": {
        "options": {},
        "dataPropertyName": "careerPathRecommendation"
      },
      "name": "Set Response",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1,
      "position": [
        1100,
        300
      ]
    }
  ],
  "connections": {
    "Webhook - Receive User Data": {
      "main": [
        [
          {
            "node": "Validate Input",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validate Input": {
      "main": [
        [
          {
            "node": "AI - Generate Career Path Recommendation",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI - Generate Career Path Recommendation": {
      "main": [
        [
          {
            "node": "Format Output",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Format Output": {
      "main": [
        [
          {
            "node": "Set Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {}
}